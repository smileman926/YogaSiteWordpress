!function(t,a,e){"use strict";t(function(){t('[data-op3-element-type="evergreencountdowntimer"]').each(function(){var a=t(this).find(" > .op3-evergreen-countdown-timer"),e=o(a),s=e.type+":"+OP3.Meta.pageId+":"+e.uuid,i=(new Date).getTime()+1e3*(24*e.days*60*60+60*e.hrs*60+60*e.mins+e.secs);"none"!==e.linked&&(i=OP3.Cookie.get(e.type+":"+e.linked)?OP3.Cookie.get(e.type+":"+e.linked).value:i);var d=OP3.Cookie.get(s);d||OP3.Cookie.set(s,i);var p=parseInt(d?d.value:i);a.countdown(new Date(p)).on("update.countdown",n).on("finish.countdown",r)})});var n=function(t){d(t,this)},r=function(a){var e=t(a.target),n=o(e);if(n.shouldRestart&&s(e))return;if("redirect"===n.finishAction){var r=e.attr("data-op3-redirect-url");i(r)}else if("text"===n.finishAction){var d=e.attr("data-op3-text");e.hide(),e.parent().append('<h1 class="op3-countdown-text">'+d+"</h1>")}else"hide"===n.finishAction&&e.hide()},s=function(t){var a=o(t),e=1e3*(24*a.restartDays*60*60+60*a.restartHrs*60),n=a.type+":"+OP3.Meta.pageId+":"+a.uuid,r=OP3.Cookie.get(n),s=new Date;if(s.getTime()>parseInt(r.value)+e){var i=s.getTime()+1e3*(60*a.hrs*60+60*a.mins+a.secs);return OP3.Cookie.set(n,i),t.countdown(new Date(i)),t.show(),!0}return!1},i=function(t){t.length>0&&a.location.replace(t)},o=function(t){return{uuid:t.parent().attr("data-op3-uuid")||"",type:t.parent().attr("data-op3-element-type")||"",days:parseInt(t.attr("data-op3-day"))||0,hrs:parseInt(t.attr("data-op3-hr"))||0,mins:parseInt(t.attr("data-op3-min"))||0,secs:parseInt(t.attr("data-op3-sec"))||0,finishAction:t.attr("data-op3-finish-action")||"",redirectUrl:t.attr("data-op3-redirect-url")||"",text:t.attr("data-op3-text")||"",shouldRestart:parseInt(t.attr("data-op3-restart-timer"))||0,restartDays:parseInt(t.attr("data-op3-restart-day"))||0,restartHrs:parseInt(t.attr("data-op3-restart-hr"))||0,linked:t.attr("data-op3-link-evergreen")||""}},d=function(a,e){e instanceof jQuery||(e=t(e));var n='<div class="wrapper day"><span class="digits day">%D</span><span class="units day">'+e.attr("data-op3-unit-day")+"</span></div>",r='<div class="wrapper hr"><span class="digits hr">%H</span><span class="units hr">'+e.attr("data-op3-unit-hour")+"</span></div>",s='<div class="wrapper min"><span class="digits min">%M</span><span class="units min">'+e.attr("data-op3-unit-min")+"</span></div>",i='<div class="wrapper sec"><span class="digits sec">%S</span><span class="units sec">'+e.attr("data-op3-unit-sec")+"</span></div>",o="",d=a.strftime("%D"),p=a.strftime("%H"),c=a.strftime("%M");o=0==d&&0==p&&0==c?i:0==p&&0==c?s+i:0==d?r+s+i:n+r+s+i,e.html(a.strftime(o))}}(jQuery,window,document);