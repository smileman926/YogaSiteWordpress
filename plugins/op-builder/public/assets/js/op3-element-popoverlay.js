!function(o,e,a){var t=function(o){var e=o.find(".op3-popoverlay-content").attr("data-op3-animation");o.removeClass("op3-popoverlay-hide").removeClass("op3-popoverlay-show").addClass("op3-popoverlay-effect-"+e),setTimeout(function(){o.css("display","block")}),setTimeout(function(){o.addClass("op3-popoverlay-show")},60),n(o)},p=function(e){e.find('[data-op3-element-type="video"] iframe').each(function(){o(this).closest(".op3-video-wrapper").attr("data-op3-src")&&o(this).attr("src","")})},n=function(e){e.find('[data-op3-element-type="video"] iframe').each(function(){var e=o(this),a=e.attr("src"),t=e.closest(".op3-video-wrapper").attr("data-op3-src");!a&&t&&e.attr("src",t)})};o("#op3-designer-element").find('.op3-element[data-op3-element-type="popoverlay"]').each(function(){var e=o(this).removeClass("op3-popoverlay-show"),a=e.find(".op3-popoverlay-content");if(0==a.attr("data-op3-timer-check"))return!0;var p,n=a.attr("data-op3-timer");n.indexOf("sec")>-1&&(p=1e3*parseInt(n)),n.indexOf("min")>-1&&(p=1e3*parseInt(n)*60),setTimeout(function(){0===o(".op3-popoverlay-show").length&&t(e)},p)});var r=o("body");r.on("click",'[data-op3-action="popoverlay"], [data-op-action="popoverlay"]',function(e){var a=o(this);"popoverlay"===(a.attr("data-op3-action")||a.attr("data-op-action"))&&a.closest(".op3-popoverlay-wrapper").find(".op3-popoverlay-close").trigger("click");var p=a.attr("data-op-popoverlay-trigger")||a.attr("data-op3-popoverlay-trigger"),n=o("#op3-element-"+p);return t(n),!1}),r.on("click",".op3-popoverlay-background,.op3-popoverlay-close",function(e){var a=o(this).closest('[data-op3-element-type="popoverlay"]');return"0"===a.find(".op3-popoverlay-content").attr("data-op3-animation")?(a.removeClass("op3-popoverlay-show").css("display","none"),!1):(a.find(".op3-popoverlay-content").one("transitionend animationend",function(){a.css("display","none")}),a.removeClass("op3-popoverlay-show").addClass("op3-popoverlay-hide"),p(a),!1)}),e.OP3=e.OP3||{},OP3.PopOverlay={},OP3.PopOverlay.open=function(e){var a=o("#op3-element-"+e);t(a)}}(jQuery,window,document);