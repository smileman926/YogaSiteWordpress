<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>jQuery draggable test page</title>
        <link rel="stylesheet" href="jquery-draggable.css" />
        <style>
            * { box-sizing: border-box; }
            html, body { position: relative; padding: 0; }
            html { margin: 1em; }
            body { width: 800px; margin: 0 auto; color: #333; text-align: center; }
            .wrapper {
                margin: 100px;
                padding: 24px;
            }
            .draggable {
                position: absolute;
                width: 256px;
                margin: 10px;
                padding: 1px;
                border: 1px solid red;
                background: red;
                right: 10px;
            }
            .draggable-handle {
                background: green;
                text-align: center;
            }
        </style>
    </head>
    <body>
        <h1>Testing...</h1>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quaerat ad inventore consectetur quasi fugit soluta tenetur reiciendis voluptas possimus atque illo praesentium nam deserunt quis, aperiam similique odio quibusdam minima?</p>
        <p>Nisi enim nulla sed libero hic repellendus repudiandae, a cumque vitae! Iure voluptas dolor officia culpa rem aperiam officiis. Alias laudantium, accusamus enim minus blanditiis sequi aspernatur! Reiciendis, eius, dolor.</p>
        <p>Error at praesentium, qui nemo, tempore temporibus modi, dolor et alias recusandae illum itaque. Minus dolorem quod, amet ipsa sed eligendi optio et accusamus voluptates ullam eum repellendus saepe repudiandae!</p>
        <p>Tempore autem, atque rem officia laboriosam dolorem molestias quis totam sunt. Repellat, ratione nisi animi aliquid itaque iste mollitia corporis quia! Vitae, totam sunt, architecto autem quae provident assumenda mollitia.</p>
        <p>Nihil totam dolore possimus at, quaerat voluptates odio reprehenderit, aut ea voluptatem dolorem, atque vel hic in, fugit dolorum sequi amet blanditiis veritatis accusantium pariatur itaque ut. Aperiam libero, repellendus?</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nemo pariatur architecto sit, dolor, consectetur ipsum. Perferendis laborum, quisquam necessitatibus molestias ea repellendus, ab repellat architecto error tempore! Dolorem asperiores, possimus.</p>
        <p>Quae a, delectus, consequatur dolorem dolorum nam nihil, aliquid ratione doloremque nobis repudiandae quidem alias eum sunt architecto itaque id quaerat vero! Quidem tempore ullam, repellat dignissimos modi illo. Recusandae.</p>
        <p>Numquam aliquid, deserunt rerum dignissimos temporibus impedit reprehenderit quidem, similique necessitatibus aperiam nobis, praesentium id accusamus. Repudiandae soluta, tempore deserunt ipsam aperiam sit commodi. Consectetur saepe aliquam nemo officiis dolorum?</p>
        <p>Iusto et voluptatum natus numquam eaque sed modi nisi saepe atque? Recusandae quod delectus omnis porro at dignissimos magnam praesentium, sit dolorum illo rem, id aperiam beatae, earum, odit ut.</p>
        <p>Ullam illum est dolorem vitae nisi adipisci debitis molestiae totam molestias, aspernatur ea eligendi eius asperiores dolore quia tempora et exercitationem a, sequi, dolores dolor. Voluptate impedit fuga a unde.</p>
        <p>Deleniti dignissimos culpa quos nostrum iusto ipsam, molestias itaque eum, sunt quia, vitae eligendi, molestiae asperiores ducimus deserunt! Odio rem itaque voluptate error vel harum sint, accusamus molestias recusandae amet!</p>
        <p>Laudantium repellendus adipisci alias quasi ipsam quis blanditiis veniam sed accusantium qui minus, soluta, amet similique nostrum libero ratione architecto cupiditate dignissimos, natus delectus inventore. Soluta mollitia officiis dolorem possimus.</p>
        <p>Optio culpa corporis laboriosam, fuga fugiat inventore voluptatum in dolorum a magni libero atque repellat at ratione accusantium nesciunt quisquam omnis reprehenderit. Velit vel, porro vitae libero, necessitatibus minima. Praesentium?</p>
        <p>Eligendi tempora quas fugiat velit sequi reiciendis non molestias saepe aspernatur nam ipsam ducimus, voluptate modi, obcaecati mollitia sit provident pariatur praesentium ullam dicta dignissimos quae perferendis eum unde. Sit.</p>
        <p>Odio saepe esse similique eveniet officiis distinctio, fugit sed eos quam autem? Odit porro eveniet ipsam totam suscipit soluta repellat dolore! Esse veniam, tempora incidunt ad voluptas ipsa, vel. Ratione.</p>
        <p>Doloremque dicta aspernatur reprehenderit sed pariatur at eius harum laborum veniam deserunt! Dolorum, amet possimus voluptas magnam nostrum reiciendis ad, earum tenetur harum optio cum ut consequuntur error eveniet voluptatibus?</p>
        <p>Quis rerum reprehenderit atque, molestias, nam laudantium mollitia. Optio officiis cumque tempora qui libero, excepturi perferendis inventore aspernatur modi nulla mollitia dolores maiores rerum laboriosam, quos accusantium. Ratione, obcaecati, fugiat!</p>
        <p>Voluptates ullam laudantium veniam, aliquam animi a amet rem perferendis reiciendis, itaque aspernatur adipisci velit distinctio. Cumque impedit accusamus quaerat, maxime? Voluptatum quasi beatae, animi ad nostrum impedit laboriosam adipisci!</p>
        <p>Harum vitae ipsa officiis, quo! Necessitatibus repellat error dolores labore dolore nobis est laboriosam temporibus tempora, expedita sapiente dolorum, repellendus, rerum commodi quia doloremque dignissimos blanditiis sit deleniti porro et.</p>
        <p>Laborum, voluptatibus? Sit excepturi sunt, natus quas possimus repellendus earum consequatur sint ut dignissimos deleniti voluptatum reprehenderit, dicta ipsa porro tempora minima quisquam, ducimus voluptates dolorum illo vitae nesciunt! Similique.</p>
        <p>Nulla sint voluptate, aliquid. Vitae, dignissimos, quae. Obcaecati soluta voluptate molestiae quis laudantium laborum rem tempora quisquam odit officiis nobis iure enim molestias tempore aut porro, asperiores eligendi, illum officia!</p>
        <p>Laboriosam voluptatem quaerat quos, eaque dignissimos odio laudantium eius placeat neque similique sunt voluptas doloremque totam nobis unde fuga ex animi ipsum quasi sequi hic voluptatibus repudiandae odit. Perferendis, at.</p>
        <p>Magnam maxime tenetur dolores natus libero vero necessitatibus ipsum culpa rerum voluptate sunt nihil cupiditate tempore nam qui, impedit reiciendis possimus perferendis, molestiae, deserunt itaque. Sequi tempora quos sed, pariatur.</p>
        <p>Dicta ratione, quos veniam nostrum placeat, quod velit harum ducimus expedita nihil quis itaque voluptate reprehenderit. Sit deleniti velit repudiandae, magni autem ea praesentium inventore perferendis ducimus facere soluta! Eum!</p>
        <div class="wrapper">
            <div class="draggable">
                <div class="draggable-handle">Handle</div>
                <p>Tempora architecto minima natus rem aliquid nemo fugit nostrum pariatur, voluptate ullam voluptatum itaque doloremque eveniet molestias libero officia id vitae, minus hic aspernatur asperiores ab inventore sunt cumque! Officiis.</p>
            </div>
        </div>
        <p>Vero adipisci tempore enim deserunt consequatur est amet ipsam, officia ad ut sequi inventore labore in quos perferendis. Dignissimos inventore omnis dolorum delectus voluptates, ex ducimus ab sequi harum totam!</p>
        <p>Magni nihil tempora quaerat repudiandae dolor odio ex repellat non deleniti autem maiores, consectetur culpa. Delectus in at incidunt voluptates, quod inventore deserunt amet veritatis impedit nam cumque facere nulla!</p>
        <p>Consectetur mollitia, odit culpa beatae, rem incidunt magni debitis quisquam, quidem error veritatis eos dolor natus quod eum accusamus eveniet dolorem possimus praesentium odio quas rerum consequatur dolore. Provident, tenetur.</p>
        <p>Ut reiciendis laudantium, qui! Ipsam nulla aperiam odio, ipsum, fugiat omnis voluptatum aut dicta tempora voluptates ea fuga natus velit incidunt eius veniam facilis nobis, dolorem dignissimos cum, voluptatem temporibus.</p>
        <p>Nostrum sequi magnam illo explicabo optio consequatur ab. Alias sit numquam accusantium ratione, itaque doloribus nesciunt laborum mollitia recusandae dolorem aut veritatis, autem placeat culpa dolores facere soluta, eos est.</p>
        <p>Culpa cum ratione, quis molestiae totam hic assumenda delectus, perferendis et animi. Blanditiis labore odit corrupti iste incidunt quo beatae optio mollitia deleniti, dolorum consequatur ad veritatis, similique ab veniam.</p>
        <p>Molestiae eum dolores, totam veritatis omnis, explicabo, pariatur cumque maxime fugiat repudiandae unde! Quod minus dicta asperiores cum, aut aperiam ex nulla sint veniam, expedita, architecto voluptate fugiat eligendi provident.</p>
        <p>Iure nam ipsa sapiente dolores repellendus aliquid accusamus consequatur corporis voluptatibus. Assumenda dolor molestiae, eos facilis consectetur repudiandae consequuntur amet consequatur, eligendi corporis placeat quaerat id culpa exercitationem veniam nam!</p>
        <p>At dignissimos, ullam, inventore repellendus eius eos, reprehenderit ex tenetur fuga iusto ratione id incidunt, minima perspiciatis vel facere placeat. Quam dolores quae labore unde voluptatum accusantium quidem cumque velit.</p>
        <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
        <script src="jquery-draggable.js"></script>
        <script>
            $(".draggable")
                .on("draggablemove", function(e, o) {
                    var css = o.css,
                        rect = o.rect,
                        rel = o.element.rel,
                        viewport = o.viewport,
                        scroll = [
                            window.pageXOffset || document.documentElement.scrollLeft || 0,
                            window.pageYOffset || document.documentElement.scrollTop || 0,
                        ],
                        boundaries = {
                            top: rel[1] + scroll[1],
                            right: rel[0] + scroll[0] + viewport[2],
                            bottom: rel[1] + scroll[1] + viewport[3],
                            left: rel[0] + scroll[0],
                        };

                    if (rect.left < boundaries.left)
                        css.left = boundaries.left + "px";
                    if (rect.top < boundaries.top)
                        css.top = boundaries.top + "px";
                    if (rect.right > boundaries.right)
                        css.left = boundaries.right - rect.width + "px";
                    if (rect.bottom > boundaries.bottom)
                        css.top = boundaries.bottom - rect.height + "px";
                })
                .draggable({
                    handle: ".draggable-handle",
                });
        </script>
    </body>
</html>
